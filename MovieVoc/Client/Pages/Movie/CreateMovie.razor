@page "/movies/create"
@inject NavigationManager navigationManager
@inject MovieRepository movieRepository

<h3>CreateMovie</h3>

<EditForm Model="movie" OnValidSubmit="saveMovie">
    <DataAnnotationsValidator />
    <div class="form-group">
        <label>Titel:</label>
        <div>
            <InputText class="form-control" @bind-Value="@movie.Title" />
            <ValidationMessage For="@(() => movie.Title)" />
        </div>
    </div>

    <div>
        <label>Zusammenfassung:</label>
        <textarea class="form-control" @bind ="movie.Summary" rows="4" cols="50"></textarea>

        <ValidationMessage For="@(() => movie.Summary)" />

    </div>

    <div class="form-group">
        <label>Release Date:</label>
        <div>
            <InputDate type ="date" class="form-control"  @bind-Value="@movie.ReleaseDate" />
            <ValidationMessage For="@(() => movie.Poster)" />
        </div>
    </div>
    <div class="form-group">
        <label>Poster:</label>
        <div>
            <InputText class="form-control" @bind-Value="@movie.Poster" />
            <ValidationMessage For="@(() => movie.Poster)" />
        </div>
    </div>

    <button class="btn btn-primary" type="submit">Save Movie</button>
</EditForm>

@code {

    private MovieDTO movie = new MovieDTO();
    
    

    private async Task saveMovie()
    {
        
        try
        {
            //var movieId = await movieRepository.CreateMovie(movie);
            Console.WriteLine(movie);

        }
        catch (Exception ex)
        {

        }

            
    }
    

}
