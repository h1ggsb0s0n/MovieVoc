@page "/movies/create"
@inject NavigationManager navigationManager
@inject MovieRepository movieRepository

<h3>CreateMovie</h3>

<EditForm Model="Movie" OnValidSubmit="saveMovie">
    <DataAnnotationsValidator />
    <div class="form-group">
        <label>Titel:</label>
        <div>
            <InputText class="form-control" @bind-Value="@Movie.Title" />
            <ValidationMessage For="@(() => Movie.Title)" />
        </div>
    </div>
    <div class="form-group">
        <label>Release Date:</label>
        <div>
            <InputDate class="form-control" @bind-Value="@Movie.ReleaseDate" />
            <ValidationMessage For="@(() => Movie.ReleaseDate)" />
        </div>
    </div>

    <button class="btn btn-primary" type="submit">Save Movie</button>
</EditForm>

<AddWord Movie="Movie"></AddWord>

@code {

    private MovieDTO Movie = new MovieDTO();
    
    

    private async Task saveMovie()
    {
        
        try
        {
            var movieId = await movieRepository.CreateMovie(Movie);

        }
        catch (Exception ex)
        {

        }

            
    }
    

}
